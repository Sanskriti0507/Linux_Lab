## üî∑Step 1: Prepare & Secure the Remote Machine (Friend‚Äôs Laptop)
To be run in friend's laptop.

### 1. Install SSH and VNC:
```bash
sudo apt update && sudo apt install -y openssh-server tigervnc-standalone-server
```
This command is used to install SSH server and VNC server.

### 2. - Create non-root user and enable SSH:
```bash
sudo useradd -m tree || true
sudo systemctl enable --now ssh
```

The first command creates a non-root user. The username could be anything. We kept it as "tree".

### 3. Add your public key and set permissions:

=> To  create a `.ssh` in frienduser‚Äôs home as that user.
```bash
mkdir -p /home/tree/.ssh
```

=> To append your public key to `authorized_keys` as that user.
```bash
echo "<your-pubkey>" >> /home/tree/.ssh/authorized_keys
```

The public key can be generated by:
`ssh-keygen -t ed25519 -C "your_email@example.com"
`

=> To make the `.ssh` readable/executable only by the owner.
```bash
sudo chmod 700 /home/tree/.ssh
```

=> To make `authorized_keys` readable/writable only by owner.
```bash
chmod 600 /home/tree/.ssh/authorized_keys
```

=> To make sure the folder and files belong to frienduser.
```bash
sudo chown -R tree:tree /home/tree/.ssh
```


### üü£Output:
![Screenshot 2025-10-31 105427.png](../_resources/Screenshot%202025-10-31%20105427.png)
![Screenshot 2025-10-31 105639.png](../_resources/Screenshot%202025-10-31%20105639.png)

## üî∑Step 2: Connect & Test X11 Forwarding (Single GUI App)
To be run in your personal laptop.

### 1. SSH into friend‚Äôs laptop with X11 forwarding:
```bash
ssh -p 22 -X frienduser@FRIEND_IP
```

* `ssh` --> client program.
* `-p 22` --> connect to port 22
* `-X` --> enable X11 forwarding
* `frienduser@FRIEND_IP`--> username and the friend‚Äôs public IP or LAN IP.

### 2. Run a GUI app (e.g., xeyes or xclock):
```
xeyes &
# or
xclock &
```
* `xeyes`, `xclock`, `gedit` ‚Äî example GUI apps. The & runs them in the background so the shell is free.

### üü£Output:

![WhatsApp Image 2025-11-02 at 12.08.01 (2).jpeg](../_resources/WhatsApp%20Image%202025-11-02%20at%2012.08.01%20%282%29.jpeg)


## üî∑Step 3: Set Up VNC over SSH (Full Desktop)
On the friend's laptop:


###  1. Start a VNC server:
As there were many problems arising when we used `vncserver :1`. It worked when using `xstartup`.

=> First Update.
```bash
sudo apt-get update
```

=> Installing xterm.
```bash
sudo apt-get install xterm -y
```

=> Create a permanent startup script:
```bash
cat > ~/.vnc/xstartup <<'EOF'
#!/bin/sh
xrdb $HOME/.Xresources
startlxde &
EOF
```

=> Creating the server:
```bash
vncserver -xstartup /usr/bin/xterm :2
```
This starts on the port `5902`.

### üü£Output:

![Screenshot 2025-11-03 184453.png](../_resources/Screenshot%202025-11-03%20184453.png)

On the personal laptop:

### 2. Creating SSH tunnel:
```bash
ssh -L 5901:localhost:5902 -p 22 frienduser@FRIEND_IP -N &
```
* `-L 5901:localhost:5901` --> forward your local port `5901` to remote‚Äôs `localhost:5902` over SSH.
* `-p 22` --> port 
* `frienduser@FRIEND_IP` --> remote login.
* `-N` --> tells SSH not to execute a remote shell
* `&` --> run it in the background

### 3. Connect with VNC client/viewer on the personal laptop:
Open your VNC viewer (TigerVNC viewer, RealVNC, Remmina, Vinagre, etc.) and connect to:
```bash
localhost:5902
```


## üìÅ Authorized_Keys File:

![Screenshot 2025-11-03 230933.png](../_resources/Screenshot%202025-11-03%20230933.png)